<div class="sidebar-item sidebar-header">
	<div class='sidebar-brand'>
		<a href="/">{{ site.title }}</a>
	</div>
	<p class="lead">{{ site.description }}</p>
	<div class="sidebar-search">
		<div class="input-search invisible"><input type="search" placeholder="Search" /></div>
		<div class="sidebar-search-icon"><i class="fa-solid fa-magnifying-glass"></i></div>
	</div>
	<div class="sidebar-menu">
		<i class="fa-solid fa-bars"></i>
	</div>
</div>

<div class="sidebar-content invisible">
	<ul class="nav">
		<li>
			<a class="nav-item" href="/">포트폴리오</a>
		</li>
		{% assign pages_list = site.pages %}
		{% for node in pages_list %}
		{% if node.title != null %}
		{% if node.layout == "page" %}
		<li>
			<a class="nav-item" href="{{ node.url }}">{{ node.title }}</a>
		</li>
		{% endif %}
		{% endif %}
		{% endfor %}

		{% for collection in site.collections %}
		{% if collection.label == 'posts' %}{% continue %}{% endif %}
		<li>
			<a class="nav-item" href="{{ root_url }}/{{ site.category_dir }}#{{ collection.label }}">
				{% if collection.name %}
				{{ collection.name }}
				{% else %}
				{{ collection.label }}
				{% endif %}
				({{ collection.docs | size }})
			</a>
		</li>
		{% endfor %}
		</nav>
	</ul>
</div>
<div class="sidebar-item sidebar-footer">
	<p>Reference <a href="https://github.com/ejjoo/jekyll-theme-monos">Monos Theme</a></p>
	<p>Powered by <a href="https://github.com/jekyll/jekyll">Jekyll</a></p>
</div>

{%- if social.github -%}
<a rel="me" href="https://github.com/{{ social.github | cgi_escape | escape }}" title="{{ social.github | escape }}">
	<svg class="svg-icon grey">
		<use xlink:href="{{ '/assets/minima-social-icons.svg#github' | relative_url }}" />
	</svg></a></li>
{%- endif -%}

<script>
	$('.sidebar-menu').on('click', function () { // 반응형 모바일 드랍메뉴
		$('.sidebar-content').toggleClass('invisible')
	})
	$('.sidebar-search-icon').on('click', function () { // 검색 돋보기 클릭
		if ($(".input-search").css("display") === "none") { // 반응형 모바일 검색창 열기
			$('.input-search').removeClass('invisible')
			$('.input-search input[type="search"]').focus()
		}else {
			console.log('검색 버튼 클릭!')
		}
	})
	$(document).on('click', function (e) { // 반응형 모바일 검색창 숨기기
		if (!$(e.target).closest('.sidebar-search').length) {
			$('.input-search').addClass('invisible')
		}
		if(!$(e.target).closest('.sidebar').length) {
			$('.sidebar-content').addClass('invisible')
		}
	})
</script>
---
layout: post
title: Liquid -> JSON 데이터 가공하는 방법
---
# 데이터 가공하기
- 데이터를 동적으로 관리하기 위함
- 사용하기 쉽도록 데이터를 JSON 형태로 가공함

## site.documents -> JSON
script 태그를 사용하여 데이터를 JSON 형태로 만들 수 있다. script 도 따지고 보면 태그이고 일종의 객체이니 class나 id를 사용해서 객체에 저장된 값을 가져오거나 관리하는 것이 가능한 거 같다.
```html
    <script id="documents" type="application/json">{% raw %}
    [
        {% for doc in site.documents %}
        {% assign arr = doc.path | split: '/' %}
        {% assign index = arr.size | minus: 2 %}
        {
            "label": "{{ arr[index] }}",
            "image": "{{ doc.img }}",
            "url": "{{ doc.url | relative_url | escape }}",
            "title": "{{ doc.title | escape }}",
            "date": "{{ doc.date | date: '%Y-%m-%d' | escape }}",
            "content": "{{ doc.content | strip_html | strip_newlines | escape | truncatewords: 20 }}"
        }{% unless forloop.last %},{% endunless %}
        {% endfor %}
    ]{% endraw %}
    </script>
```

## 오
```html
    <script>
    
    </script>
```

# 그러고보니

## 이건?